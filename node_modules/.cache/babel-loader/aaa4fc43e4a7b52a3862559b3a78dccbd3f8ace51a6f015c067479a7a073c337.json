{"ast":null,"code":"var _jsxFileName = \"/Users/satyamkumarjha/DEVREV/visualization/src/highcharts/tooltip-component.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst generateTooltipId = chartId => `highcharts-custom-tooltip-${chartId}`;\nconst BORDER_WIDTH = 2;\nexport const TooltipComponent = ({\n  chart,\n  tooltipRenderer\n}) => {\n  _s();\n  const isInit = useRef(false);\n  const tooltipContentRef = useRef(null);\n  const [tooltipContentHeight, setTooltipContentHeight] = useState(0);\n  const [tooltipContentWidth, setTooltipContentWidth] = useState(0);\n  const [context, setContext] = useState(null);\n  useEffect(() => {\n    if (chart) {\n      const formatter = function () {\n        // Issue: Highcharts React does not render the tooltip correctly on the initial load.\n        // Details: https://github.com/highcharts/highcharts-react/issues/447\n\n        if (!isInit.current) {\n          isInit.current = true;\n          chart.tooltip.refresh.apply(chart.tooltip, [this.point]);\n          chart.tooltip.hide(0);\n        }\n        setContext(this);\n        return `<div class=\"flex justify-center items-center\" style=\"height: ${tooltipContentHeight + BORDER_WIDTH}px; width: ${tooltipContentWidth + BORDER_WIDTH}px; border:\" id='${generateTooltipId(chart.index)}'></div>`;\n      };\n      chart.update({\n        tooltip: {\n          formatter,\n          useHTML: true\n        }\n      });\n    }\n  }, [chart, tooltipContentHeight, tooltipContentWidth]);\n  useEffect(() => {\n    if (tooltipContentRef.current) {\n      setTooltipContentHeight(tooltipContentRef.current.clientHeight);\n      setTooltipContentWidth(tooltipContentRef.current.clientWidth);\n    }\n  }, [tooltipContentRef, context]);\n  const node = chart && document.getElementById(generateTooltipId(chart.index));\n  if (node && context) {\n    return /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-5\",\n      ref: tooltipContentRef,\n      style: {\n        width: 'min-content'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [context.series.name, \" - \", context.y]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), node);\n  }\n  return null;\n};\n_s(TooltipComponent, \"IwA5y7K+EAXKqBipihAZ69Gjf/8=\");\n_c = TooltipComponent;\nvar _c;\n$RefreshReg$(_c, \"TooltipComponent\");","map":{"version":3,"names":["React","useEffect","useRef","useState","ReactDOM","jsxDEV","_jsxDEV","generateTooltipId","chartId","BORDER_WIDTH","TooltipComponent","chart","tooltipRenderer","_s","isInit","tooltipContentRef","tooltipContentHeight","setTooltipContentHeight","tooltipContentWidth","setTooltipContentWidth","context","setContext","formatter","current","tooltip","refresh","apply","point","hide","index","update","useHTML","clientHeight","clientWidth","node","document","getElementById","createPortal","className","ref","style","width","children","series","name","y","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/satyamkumarjha/DEVREV/visualization/src/highcharts/tooltip-component.tsx"],"sourcesContent":["import { Chart, TooltipFormatterCallbackFunction, TooltipFormatterContextObject } from 'highcharts';\nimport React, { useEffect, useRef, useState } from 'react';\nimport ReactDOM from 'react-dom';\n\nconst generateTooltipId = (chartId: number) => `highcharts-custom-tooltip-${chartId}`;\n\ninterface TooltipComponentProps {\n  chart: Chart | undefined;\n  tooltipRenderer: (props: { tooltip: TooltipFormatterContextObject }) => JSX.Element | null;\n}\n\nconst BORDER_WIDTH = 2;\nexport const TooltipComponent = ({ chart, tooltipRenderer }: TooltipComponentProps) => {\n  const isInit = useRef(false);\n  const tooltipContentRef = useRef<HTMLDivElement>(null);\n  const [tooltipContentHeight, setTooltipContentHeight] = useState(0);\n  const [tooltipContentWidth, setTooltipContentWidth] = useState(0);\n\n  const [context, setContext] = useState<TooltipFormatterContextObject | null>(null);\n\n  useEffect(() => {\n    if (chart) {\n      const formatter: TooltipFormatterCallbackFunction = function () {\n        // Issue: Highcharts React does not render the tooltip correctly on the initial load.\n        // Details: https://github.com/highcharts/highcharts-react/issues/447\n\n        if (!isInit.current) {\n          isInit.current = true;\n          chart.tooltip.refresh.apply(chart.tooltip, [this.point]);\n          chart.tooltip.hide(0);\n        }\n\n        setContext(this);\n\n        return `<div class=\"flex justify-center items-center\" style=\"height: ${\n          tooltipContentHeight + BORDER_WIDTH\n        }px; width: ${tooltipContentWidth + BORDER_WIDTH}px; border:\" id='${generateTooltipId(chart.index)}'></div>`;\n      };\n\n      chart.update({\n        tooltip: {\n          formatter,\n          useHTML: true,\n        },\n      });\n    }\n  }, [chart, tooltipContentHeight, tooltipContentWidth]);\n\n  useEffect(() => {\n    if (tooltipContentRef.current) {\n      setTooltipContentHeight(tooltipContentRef.current.clientHeight);\n      setTooltipContentWidth(tooltipContentRef.current.clientWidth);\n    }\n  }, [tooltipContentRef, context]);\n\n  const node = chart && document.getElementById(generateTooltipId(chart.index));\n\n  if (node && context) {\n    return ReactDOM.createPortal(\n      <div className='p-5' ref={tooltipContentRef} style={{ width: 'min-content'}}>\n                {/* {tooltipRenderer({ tooltip: context })} */}\n       <div>{context.series.name} - {context.y}</div>\n      </div>,\n      node,\n    );\n  }\n\n  return null;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}